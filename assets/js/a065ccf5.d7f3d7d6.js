"use strict";(self.webpackChunknextjs=self.webpackChunknextjs||[]).push([[622],{7500:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>t,metadata:()=>h,toc:()=>a});const h=JSON.parse('{"id":"user-management","title":"Qu\u1ea3n l\xfd user","description":"- T\u1ea5t c\u1ea3 l\u1ec7nh b\xean d\u01b0\u1edbi ph\u1ea3i \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n d\u01b0\u1edbi quy\u1ec1n sudo, ta g\xf5 l\u1ec7nh sau:","source":"@site/docs/user-management.md","sourceDirName":".","slug":"/user-management","permalink":"/ubuntu-cli/user-management","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"SSH v\xe0o VPS","permalink":"/ubuntu-cli/"},"next":{"title":"Qu\u1ea3n l\xfd group","permalink":"/ubuntu-cli/group-management"}}');var i=s(4848),c=s(8453);const t={sidebar_position:2},r="Qu\u1ea3n l\xfd user",l={},a=[{value:"T\u1ea1o m\u1edbi user v\xe0 c\u1ea5u h\xecnh SSH Private key cho n\xf3",id:"t\u1ea1o-m\u1edbi-user-v\xe0-c\u1ea5u-h\xecnh-ssh-private-key-cho-n\xf3",level:2},{value:"T\u1ea1o user m\u1edbi",id:"t\u1ea1o-user-m\u1edbi",level:3},{value:"Thi\u1ebft l\u1eadp m\u1eadt kh\u1ea9u cho user m\u1edbi",id:"thi\u1ebft-l\u1eadp-m\u1eadt-kh\u1ea9u-cho-user-m\u1edbi",level:3},{value:"C\u1ea5u h\xecnh SSH Private key",id:"c\u1ea5u-h\xecnh-ssh-private-key",level:3},{value:"Xem t\u1ea5t c\u1ea3 c\xe1c user trong VPS (2 l\u1ec7nh)",id:"xem-t\u1ea5t-c\u1ea3-c\xe1c-user-trong-vps-2-l\u1ec7nh",level:2},{value:"Xem th\xf4ng tin c\u1ee7a user qua UID/Username",id:"xem-th\xf4ng-tin-c\u1ee7a-user-qua-uidusername",level:2},{value:"Xem th\xf4ng tin uid, gid c\u1ee7a m\u1ed9t user",id:"xem-th\xf4ng-tin-uid-gid-c\u1ee7a-m\u1ed9t-user",level:2},{value:"Xem t\u1ea5t c\u1ea3 ng\u01b0\u1eddi d\xf9ng \u0111ang active trong VPS",id:"xem-t\u1ea5t-c\u1ea3-ng\u01b0\u1eddi-d\xf9ng-\u0111ang-active-trong-vps",level:2},{value:"Hi\u1ec3n th\u1ecb username c\u1ee7a user hi\u1ec7n t\u1ea1i ta \u0111ang SSH v\xe0o VPS",id:"hi\u1ec3n-th\u1ecb-username-c\u1ee7a-user-hi\u1ec7n-t\u1ea1i-ta-\u0111ang-ssh-v\xe0o-vps",level:2},{value:"\u0110\u1ed5i m\u1eadt kh\u1ea9u cho user",id:"\u0111\u1ed5i-m\u1eadt-kh\u1ea9u-cho-user",level:2},{value:"X\xf3a user",id:"x\xf3a-user",level:2},{value:"Chuy\u1ec3n \u0111\u1ed5i qua l\u1ea1i gi\u1eefa c\xe1c user",id:"chuy\u1ec3n-\u0111\u1ed5i-qua-l\u1ea1i-gi\u1eefa-c\xe1c-user",level:2}];function d(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"qu\u1ea3n-l\xfd-user",children:"Qu\u1ea3n l\xfd user"})}),"\n",(0,i.jsxs)(e.admonition,{type:"note",children:[(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"T\u1ea5t c\u1ea3 l\u1ec7nh b\xean d\u01b0\u1edbi ph\u1ea3i \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n d\u01b0\u1edbi quy\u1ec1n sudo, ta g\xf5 l\u1ec7nh sau:"}),"\n"]}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"sudo su\n"})})]}),"\n",(0,i.jsx)(e.h2,{id:"t\u1ea1o-m\u1edbi-user-v\xe0-c\u1ea5u-h\xecnh-ssh-private-key-cho-n\xf3",children:"T\u1ea1o m\u1edbi user v\xe0 c\u1ea5u h\xecnh SSH Private key cho n\xf3"}),"\n",(0,i.jsx)(e.h3,{id:"t\u1ea1o-user-m\u1edbi",children:"T\u1ea1o user m\u1edbi"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Gi\u1ea3 s\u1eed ta t\u1ea1o user m\u1edbi l\xe0 ",(0,i.jsx)(e.strong,{children:"ndmq0310"}),":"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"useradd -m -s /bin/bash -N ndmq0310\n"})}),"\n",(0,i.jsx)(e.admonition,{title:"Gi\u1ea3i th\xedch",type:"info",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"-m"})," : T\u1ea1o m\u1ed9t th\u01b0 m\u1ee5c ch\xednh (home directory) cho ng\u01b0\u1eddi d\xf9ng m\u1edbi. Th\u01b0 m\u1ee5c n\xe0y th\u01b0\u1eddng \u0111\u01b0\u1ee3c \u0111\u1eb7t t\u1ea1i ",(0,i.jsx)(e.code,{children:"/home/<t\xean_ng\u01b0\u1eddi_d\xf9ng>"})," (trong tr\u01b0\u1eddng h\u1ee3p n\xe0y l\xe0 ",(0,i.jsx)(e.code,{children:"/home/ndmq0310"}),"). N\u1ebfu kh\xf4ng c\xf3 t\xf9y ch\u1ecdn n\xe0y, th\u01b0 m\u1ee5c ch\xednh s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c t\u1ea1o t\u1ef1 \u0111\u1ed9ng."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"-s /bin/bash"})," : Ch\u1ec9 \u0111\u1ecbnh shell m\u1eb7c \u0111\u1ecbnh cho ng\u01b0\u1eddi d\xf9ng. \u1ede \u0111\xe2y, ",(0,i.jsx)(e.code,{children:"/bin/bash"})," l\xe0 \u0111\u01b0\u1eddng d\u1eabn \u0111\u1ebfn shell Bash, ngh\u0129a l\xe0 khi ng\u01b0\u1eddi d\xf9ng ",(0,i.jsx)(e.strong,{children:"ndmq0310"})," \u0111\u0103ng nh\u1eadp, h\u1ecd s\u1ebd s\u1eed d\u1ee5ng Bash l\xe0m shell giao ti\u1ebfp. N\u1ebfu kh\xf4ng ch\u1ec9 \u0111\u1ecbnh, h\u1ec7 th\u1ed1ng s\u1ebd s\u1eed d\u1ee5ng shell m\u1eb7c \u0111\u1ecbnh \u0111\u01b0\u1ee3c c\u1ea5u h\xecnh trong ",(0,i.jsx)(e.code,{children:"/etc/default/useradd"})," (th\u01b0\u1eddng l\xe0 ",(0,i.jsx)(e.code,{children:"/bin/sh"})," ho\u1eb7c m\u1ed9t shell kh\xe1c)."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"-N"}),": Kh\xf4ng t\u1ea1o nh\xf3m ng\u01b0\u1eddi d\xf9ng ri\xeang cho ",(0,i.jsx)(e.strong,{children:"ndmq0310"}),", thay v\xe0o \u0111\xf3 s\u1eed d\u1ee5ng nh\xf3m m\u1eb7c \u0111\u1ecbnh (th\u01b0\u1eddng l\xe0 nh\xf3m ",(0,i.jsx)(e.strong,{children:"users"})," ho\u1eb7c nh\xf3m \u0111\u01b0\u1ee3c c\u1ea5u h\xecnh trong h\u1ec7 th\u1ed1ng)."]}),"\n"]})}),"\n",(0,i.jsx)(e.h3,{id:"thi\u1ebft-l\u1eadp-m\u1eadt-kh\u1ea9u-cho-user-m\u1edbi",children:"Thi\u1ebft l\u1eadp m\u1eadt kh\u1ea9u cho user m\u1edbi"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Ta g\xf5 l\u1ec7nh b\xean d\u01b0\u1edbi v\xe0 sau \u0111\xf3 nh\u1eadp m\u1eadt kh\u1ea9u cho user v\u1eeba m\u1edbi \u0111\u01b0\u1ee3c t\u1ea1o:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"passwd ndmq0310\n"})}),"\n",(0,i.jsx)(e.h3,{id:"c\u1ea5u-h\xecnh-ssh-private-key",children:"C\u1ea5u h\xecnh SSH Private key"}),"\n",(0,i.jsx)(e.admonition,{title:"Th\xf4ng tin",type:"info",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["M\u1ee5c \u0111\xedch c\u1ee7a vi\u1ec7c n\xe0y l\xe0 user ",(0,i.jsx)(e.strong,{children:"ndmq0310"})," c\xf3 th\u1ec3 SSH v\xe0o VPS th\xf4ng qua private key"]}),"\n"]})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"B\u01b0\u1edbc 1: T\u1ea1o c\u1eb7p public/private key \u1edf m\xe1y t\xednh c\xe1 nh\xe2n c\u1ee7a ta tr\u01b0\u1edbc"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'ssh-keygen -t rsa -b 2048 -f "/c/Users/MINH CHI/Downloads/ndmq0310_VPS_SSH_Key"\n'})}),"\n",(0,i.jsx)(e.admonition,{title:"Ch\xfa \xfd",type:"note",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Thay \u0111\u01b0\u1eddng d\u1eabn l\u01b0u file private key l\u1ea1i theo nhu c\u1ea7u c\u1ee7a b\u1ea1n."}),"\n",(0,i.jsxs)(e.li,{children:["C\xf3 th\u1ec3 nh\u1eadp ",(0,i.jsx)(e.strong,{children:"passphrase"})," ho\u1eb7c kh\xf4ng (passphrase hi\u1ec3u \u0111\u01a1n gi\u1ea3n l\xe0 m\u1eadt kh\u1ea9u c\u1ee7a file private key. Khi b\u1ea1n SSH v\xe0o VPS b\u1eb1ng Private key, n\xf3 s\u1ebd y\xeau c\u1ea7u ta nh\u1eadp m\u1eadt kh\u1ea9u c\u1ee7a file private key n\xe0y, ",(0,i.jsx)(e.strong,{children:"nh\u1edb l\xe0 n\xf3 kh\xe1c v\u1edbi m\u1eadt kh\u1ea9u c\u1ee7a user ndmq0310 tr\xean, kh\xf4ng li\xean quan g\xec h\u1ebft"}),")"]}),"\n"]})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"B\u01b0\u1edbc 2: Th\xeam public key v\xe0o VPS \u1ee9ng v\u1edbi user ndmq0310"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Sau khi t\u1ea1o xong c\u1eb7p public/private key, ta s\u1ebd th\u1ea5y c\xf3 file \u0111u\xf4i ",(0,i.jsx)(e.code,{children:".pub"}),", th\u1ef1c hi\u1ec7n copy n\u1ed9i dung file \u0111\xf3 v\xe0o VPS nh\u01b0 sau:"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'echo "[N\u1ed8I DUNG PUBLIC KEY]" >> /home/ndmq0310/.ssh/authorized_keys\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"B\u01b0\u1edbc 3: G\xe1n quy\u1ec1n \u0111\u1ecdc, ghi, th\u1ef1c thi tr\xean folder .ssh cho user (n\u1ebfu c\u1ea7n)"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"chmod 600 /home/ndmq0310/.ssh/authorized_keys\nchmod 700 /home/ndmq0310/.ssh\nchown -R ndmq0310:root /home/ndmq0310/.ssh\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"B\u01b0\u1edbc 4: Restart l\u1ea1i SSH"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"systemctl restart ssh\nsystemctl restart sshd\n"})}),"\n",(0,i.jsx)(e.h2,{id:"xem-t\u1ea5t-c\u1ea3-c\xe1c-user-trong-vps-2-l\u1ec7nh",children:"Xem t\u1ea5t c\u1ea3 c\xe1c user trong VPS (2 l\u1ec7nh)"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cat /etc/passwd\ngetent passwd\n"})}),"\n",(0,i.jsx)(e.h2,{id:"xem-th\xf4ng-tin-c\u1ee7a-user-qua-uidusername",children:"Xem th\xf4ng tin c\u1ee7a user qua UID/Username"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"getent passwd [USER_ID/USERNAME]\n"})}),"\n",(0,i.jsx)(e.h2,{id:"xem-th\xf4ng-tin-uid-gid-c\u1ee7a-m\u1ed9t-user",children:"Xem th\xf4ng tin uid, gid c\u1ee7a m\u1ed9t user"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"id [USERNAME]\n\n//Xem th\xf4ng tin uid, gid c\u1ee7a user hi\u1ec7n t\u1ea1i\nid\n"})}),"\n",(0,i.jsx)(e.h2,{id:"xem-t\u1ea5t-c\u1ea3-ng\u01b0\u1eddi-d\xf9ng-\u0111ang-active-trong-vps",children:"Xem t\u1ea5t c\u1ea3 ng\u01b0\u1eddi d\xf9ng \u0111ang active trong VPS"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"who\n"})}),"\n",(0,i.jsx)(e.h2,{id:"hi\u1ec3n-th\u1ecb-username-c\u1ee7a-user-hi\u1ec7n-t\u1ea1i-ta-\u0111ang-ssh-v\xe0o-vps",children:"Hi\u1ec3n th\u1ecb username c\u1ee7a user hi\u1ec7n t\u1ea1i ta \u0111ang SSH v\xe0o VPS"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"whoami\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u0111\u1ed5i-m\u1eadt-kh\u1ea9u-cho-user",children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u cho user"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"passwd [USERNAME]\n"})}),"\n",(0,i.jsxs)(e.admonition,{type:"tip",children:[(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u0110\u1ec3 \u0111\u1ed5i m\u1eadt kh\u1ea9u cho user hi\u1ec7n t\u1ea1i ta \u0111ang SSH, ch\u1ec9 c\u1ea7n d\xf9ng l\u1ec7nh:"}),"\n"]}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"passwd\n"})})]}),"\n",(0,i.jsx)(e.h2,{id:"x\xf3a-user",children:"X\xf3a user"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"userdel -rf [USERNAME]\n"})}),"\n",(0,i.jsx)(e.h2,{id:"chuy\u1ec3n-\u0111\u1ed5i-qua-l\u1ea1i-gi\u1eefa-c\xe1c-user",children:"Chuy\u1ec3n \u0111\u1ed5i qua l\u1ea1i gi\u1eefa c\xe1c user"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["V\xed d\u1ee5 \u0111ang \u1edf user ",(0,i.jsx)(e.code,{children:"minhchi1509"}),", gi\u1edd mu\u1ed1n chuy\u1ec3n sang user ",(0,i.jsx)(e.code,{children:"ndmq0310"})," th\xec d\xf9ng l\u1ec7nh:"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"su - ndmq0310 (Ta c\u1ea7n bi\u1ebft m\u1eadt kh\u1ea9u c\u1ee7a user ndmq0310 (n\u1ebfu kh\xf4ng \u0111ang l\xe0 root).)\nsudo -u ndmq0310 -i (N\u1ebfu t\xe0i kho\u1ea3n minhchi1509 c\xf3 quy\u1ec1n sudo. H\u1ec7 th\u1ed1ng kh\xf4ng y\xeau c\u1ea7u ta nh\u1eadp m\u1eadt kh\u1ea9u c\u1ee7a ndmq0310, m\xe0 ch\u1ec9 c\xf3 th\u1ec3 y\xeau c\u1ea7u m\u1eadt kh\u1ea9u sudo n\u1ebfu ch\u01b0a x\xe1c th\u1ef1c g\u1ea7n \u0111\xe2y.)\n"})})]})}function u(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>t,x:()=>r});var h=s(6540);const i={},c=h.createContext(i);function t(n){const e=h.useContext(c);return h.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),h.createElement(c.Provider,{value:e},n.children)}}}]);