"use strict";(self.webpackChunknextjs=self.webpackChunknextjs||[]).push([[756],{2979:(n,e,c)=>{c.r(e),c.d(e,{assets:()=>h,contentTitle:()=>r,default:()=>o,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"acl","title":"Ph\xe2n quy\u1ec1n v\u1edbi ACL","description":"- Th\u01b0 vi\u1ec7n ACL (Access Control List) trong Linux \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 qu\u1ea3n l\xfd quy\u1ec1n truy c\u1eadp chi ti\u1ebft h\u01a1n so v\u1edbi m\xf4 h\xecnh ph\xe2n quy\u1ec1n truy\u1ec1n th\u1ed1ng (owner, group, others). ACL cho ph\xe9p g\xe1n quy\u1ec1n truy c\u1eadp cho nhi\u1ec1u ng\u01b0\u1eddi d\xf9ng ho\u1eb7c nh\xf3m c\u1ee5 th\u1ec3 tr\xean m\u1ed9t t\u1ec7p ho\u1eb7c th\u01b0 m\u1ee5c.","source":"@site/docs/acl.md","sourceDirName":".","slug":"/acl","permalink":"/ubuntu-cli/acl","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"T\xecm ki\u1ebfm","permalink":"/ubuntu-cli/find"},"next":{"title":"Nested Menu","permalink":"/ubuntu-cli/category/nested-menu"}}');var l=c(4848),t=c(8453);const i={sidebar_position:6},r="Ph\xe2n quy\u1ec1n v\u1edbi ACL",h={},d=[{value:"C\xe0i \u0111\u1eb7t",id:"c\xe0i-\u0111\u1eb7t",level:2},{value:"C\xe1c l\u1ec7nh ACL c\u01a1 b\u1ea3n",id:"c\xe1c-l\u1ec7nh-acl-c\u01a1-b\u1ea3n",level:2},{value:"Xem ACL c\u1ee7a t\u1ec7p/th\u01b0 m\u1ee5c",id:"xem-acl-c\u1ee7a-t\u1ec7pth\u01b0-m\u1ee5c",level:3},{value:"Thi\u1ebft l\u1eadp ACL",id:"thi\u1ebft-l\u1eadp-acl",level:3},{value:"X\xf3a ACL",id:"x\xf3a-acl",level:3}];function a(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"ph\xe2n-quy\u1ec1n-v\u1edbi-acl",children:"Ph\xe2n quy\u1ec1n v\u1edbi ACL"})}),"\n",(0,l.jsx)(e.admonition,{title:"\u0110\u1ecbnh ngh\u0129a",type:"info",children:(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Th\u01b0 vi\u1ec7n ",(0,l.jsx)(e.strong,{children:"ACL (Access Control List)"})," trong Linux \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 qu\u1ea3n l\xfd quy\u1ec1n truy c\u1eadp chi ti\u1ebft h\u01a1n so v\u1edbi m\xf4 h\xecnh ph\xe2n quy\u1ec1n truy\u1ec1n th\u1ed1ng (owner, group, others). ACL cho ph\xe9p g\xe1n quy\u1ec1n truy c\u1eadp cho nhi\u1ec1u ng\u01b0\u1eddi d\xf9ng ho\u1eb7c nh\xf3m c\u1ee5 th\u1ec3 tr\xean m\u1ed9t t\u1ec7p ho\u1eb7c th\u01b0 m\u1ee5c."]}),"\n",(0,l.jsxs)(e.li,{children:["Ta d\xf9ng ACL khi ta c\u1ea7n ",(0,l.jsx)(e.strong,{children:"ph\xe2n quy\u1ec1n chi ti\u1ebft cho nhi\u1ec1u user ho\u1eb7c group"}),", m\xe0 kh\xf4ng mu\u1ed1n thay \u0111\u1ed5i owner ho\u1eb7c group c\u1ee7a file."]}),"\n"]})}),"\n",(0,l.jsx)(e.h2,{id:"c\xe0i-\u0111\u1eb7t",children:"C\xe0i \u0111\u1eb7t"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"apt update\napt install acl\n"})}),"\n",(0,l.jsx)(e.h2,{id:"c\xe1c-l\u1ec7nh-acl-c\u01a1-b\u1ea3n",children:"C\xe1c l\u1ec7nh ACL c\u01a1 b\u1ea3n"}),"\n",(0,l.jsx)(e.h3,{id:"xem-acl-c\u1ee7a-t\u1ec7pth\u01b0-m\u1ee5c",children:"Xem ACL c\u1ee7a t\u1ec7p/th\u01b0 m\u1ee5c"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["S\u1eed d\u1ee5ng l\u1ec7nh ",(0,l.jsx)(e.code,{children:"getfacl"})," \u0111\u1ec3 xem th\xf4ng tin ACL c\u1ee7a m\u1ed9t t\u1ec7p ho\u1eb7c th\u01b0 m\u1ee5c."]}),"\n",(0,l.jsx)(e.li,{children:"K\u1ebft qu\u1ea3 s\u1ebd hi\u1ec3n th\u1ecb quy\u1ec1n truy\u1ec1n th\u1ed1ng (owner, group, others) v\xe0 c\xe1c m\u1ee5c ACL b\u1ed5 sung (n\u1ebfu c\xf3)."}),"\n",(0,l.jsx)(e.li,{children:"V\xed d\u1ee5:"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"getfacl testfile\n"})}),"\n",(0,l.jsx)(e.p,{children:"K\u1ebft qu\u1ea3 m\u1eabu:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# file: testfile\n# owner: user1\n# group: group1\nuser::rw-\nuser:alice:r-x\ngroup::r--\nother::r--\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Ta th\xeam ",(0,l.jsx)(e.code,{children:"grep"})," n\u1ebfu mu\u1ed1n l\u1ecdc theo user, group:"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'getfacl -R /usr/src/task_management_api_docker | grep "group:devteam_write:"\n'})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'getfacl testfile | grep "user:ndmq0310:"\n'})}),"\n",(0,l.jsx)(e.admonition,{title:"Th\xf4ng tin th\xeam",type:"info",children:(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Option ",(0,l.jsx)(e.code,{children:"-R"})," li\u1ec7t k\xea ACL cho th\u01b0 m\u1ee5c v\xe0 c\xe1c t\u1ec7p con (\u0111\u1ec7 quy)"]}),"\n"]})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h3,{id:"thi\u1ebft-l\u1eadp-acl",children:"Thi\u1ebft l\u1eadp ACL"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["S\u1eed d\u1ee5ng l\u1ec7nh ",(0,l.jsx)(e.code,{children:"setfacl"})," \u0111\u1ec3 th\xeam, s\u1eeda ho\u1eb7c x\xf3a quy\u1ec1n ACL."]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Th\xeam quy\u1ec1n ACL cho ng\u01b0\u1eddi d\xf9ng c\u1ee5 th\u1ec3"}),": G\xe1n quy\u1ec1n \u0111\u1ecdc, ghi, th\u1ef1c thi (",(0,l.jsx)(e.code,{children:"rwx"}),") cho ng\u01b0\u1eddi d\xf9ng ",(0,l.jsx)(e.code,{children:"alice"})," tr\xean t\u1ec7p ",(0,l.jsx)(e.code,{children:"testfile"}),":"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"setfacl -m u:alice:rwx testfile\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Th\xeam quy\u1ec1n ACL cho nh\xf3m c\u1ee5 th\u1ec3"}),": G\xe1n quy\u1ec1n \u0111\u1ecdc v\xe0 th\u1ef1c thi (",(0,l.jsx)(e.code,{children:"r-x"}),") cho nh\xf3m ",(0,l.jsx)(e.code,{children:"developers"}),":"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"setfacl -m g:developers:r-x testfile\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\xc1p d\u1ee5ng ACL cho th\u01b0 m\u1ee5c v\xe0 c\xe1c t\u1ec7p con (\u0111\u1ec7 quy)"}),": Th\xeam quy\u1ec1n ACL cho th\u01b0 m\u1ee5c v\xe0 t\u1ea5t c\u1ea3 n\u1ed9i dung b\xean trong:"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"setfacl -R -m g:developers:rx /\u0111\u01b0\u1eddng/d\u1eabn/th\u01b0/m\u1ee5c\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"setfacl -R -m u:alice:rwx /\u0111\u01b0\u1eddng/d\u1eabn/th\u01b0/m\u1ee5c\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Ph\xe2n quy\u1ec1n cho nhi\u1ec1u ng\u01b0\u1eddi d\xf9ng"}),": Gi\u1ea3 s\u1eed b\u1ea1n c\xf3 m\u1ed9t t\u1ec7p ",(0,l.jsx)(e.code,{children:"project.txt"})," v\xe0 mu\u1ed1n:","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Ng\u01b0\u1eddi d\xf9ng ",(0,l.jsx)(e.code,{children:"alice"})," c\xf3 quy\u1ec1n \u0111\u1ecdc/ghi (",(0,l.jsx)(e.code,{children:"rw"}),")."]}),"\n",(0,l.jsxs)(e.li,{children:["Ng\u01b0\u1eddi d\xf9ng ",(0,l.jsx)(e.code,{children:"bob"})," c\xf3 quy\u1ec1n ch\u1ec9 \u0111\u1ecdc (",(0,l.jsx)(e.code,{children:"r"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"setfacl -m u:alice:rw,u:bob:r project.txt\n"})}),"\n",(0,l.jsx)(e.h3,{id:"x\xf3a-acl",children:"X\xf3a ACL"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"X\xf3a t\u1ea5t c\u1ea3 ACL c\u1ee7a group ho\u1eb7c user \u0111\u1ed1i v\u1edbi file / th\u01b0 m\u1ee5c"}),":"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"setfacl -x g:[GROUP_NAME] project.txt\nsetfacl -x u:[USERNAME] project.txt\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"setfacl -R -x g:[GROUP_NAME] /\u0111\u01b0\u1eddng/d\u1eabn/th\u01b0/m\u1ee5c\nsetfacl -R -x u:[USERNAME] /\u0111\u01b0\u1eddng/d\u1eabn/th\u01b0/m\u1ee5c\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"X\xf3a to\xe0n b\u1ed9 ACL c\u1ee7a file / th\u01b0 m\u1ee5c"}),":"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"setfacl -b testfile.txt\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"setfacl -R -b /\u0111\u01b0\u1eddng/d\u1eabn/th\u01b0/m\u1ee5c\n"})})]})}function o(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(a,{...n})}):a(n)}},8453:(n,e,c)=>{c.d(e,{R:()=>i,x:()=>r});var s=c(6540);const l={},t=s.createContext(l);function i(n){const e=s.useContext(t);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:i(n.components),s.createElement(t.Provider,{value:e},n.children)}}}]);